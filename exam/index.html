<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #tbody.active{
            display: none;
        }
    </style>
</head>
<body>
    <input type="text" id="input">
    <button id="searchBtn">search</button>
    <button id="afficher">afficher</button>
    <table border="" style="border-collapse: collapse;">
        <tr>
            <th>Immatriculation</th>
            <th>Marque</th>
            <th>Couleur</th>
            <th>Carburant</th>
            <th>Prix par jour</th>
        </tr>
        <tbody id="tbody" class="active"></tbody>
    </table>    

    <script>
        let voitures = [{"Immatriculation": "48-A-20000", "Marque": "clio 3", "Couleur" : "Noir", "Carburant": "Diesel", "Prix_jour": "250"},
        {"Immatriculation": "48-A-20001", "Marque": "clio 4", "Couleur" : "Rouge", "Carburant": "Diesel", "Prix_jour": "300"},
        {"Immatriculation": "48-A-20002", "Marque": "Dacia", "Couleur" : "Noir", "Carburant": "Noir", "Prix_jour": "200"}]

        
        
        for(let i = 0; i < voitures.length; i++){
            let tbody = document.getElementById("tbody")
            let tr = document.createElement("tr")
            let td1 = document.createElement("td")
            let td2 = document.createElement("td")
            let td3 = document.createElement("td")
            let td4 = document.createElement("td")
            let td5 = document.createElement("td")
            let td6 = document.createElement("td")
            let btn = document.createElement("button")
            btn.textContent = "suprime"

            td1.textContent = voitures[i].Immatriculation
            td2.textContent = voitures[i].Marque
            td3.textContent = voitures[i].Couleur
            td4.textContent = voitures[i].Carburant
            td5.textContent = voitures[i].Prix_jour
            td6.append(btn)
            tr.append(td1, td2, td3, td4, td5, td6)
            tbody.append(tr)

            btn.addEventListener("click", (event) => {
                let tdfull = event.target.parentNode
                let trfull = tdfull.parentNode
                trfull.parentNode.removeChild(trfull)
            })
        }

        // afficher button
        let afficher = document.getElementById("afficher")
        afficher.addEventListener("click", () => {
            let tbody = document.getElementById("tbody")
            tbody.classList.remove("active")
        })

        let input = document.getElementById("input")
        input.addEventListener("keydown", () => {
            let input = document.getElementById("input")
            let filter = input.value.toUpperCase();
            let tbody = document.getElementById("tbody")
            let tr = tbody.getElementsByTagName("tr")

            for(let i = 0; i < tr.length; i++){
                let a = tr[i].getElementsByTagName("td")[1]
                let txtValue = a.textContent || a.innerText

                if(txtValue.toUpperCase().indexOf(filter) > -1){
                    tr[i].style.display = ''
                }else{
                    tr[i].style.display = 'none'
                }
            }
        })
    </script>
</body>
</html>